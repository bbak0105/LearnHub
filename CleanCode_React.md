## â‘  í´ë¦°ì½”ë“œ ë¦¬ì•¡íŠ¸(React)

> ### ê°œìš”

- [ê°•ì˜ ë§í¬](https://www.udemy.com/course/clean-code-react/?couponCode=ST6MT103124)
- ì´ 59ê°œì˜ ê°•ì˜, ì´ ê¸¸ì´ 5ì‹œê°„ 3ë¶„
- ì •ë¦¬í•œ ê°•ì˜ ì´ 18ê°œ

<br/>

> ### ëª©ì°¨

- [ì—…ë°ì´íŠ¸ ë˜ì§€ ì•ŠëŠ” ê°’ ì™¸ë¶€ë¡œ ì¶”ì¶œ](#8ê°•-ì—…ë°ì´íŠ¸-ë˜ì§€-ì•ŠëŠ”-ê°’-ì™¸ë¶€ë¡œ-ì¶”ì¶œ)
- [í”Œë˜ê·¸ëŠ” êµ³ì´ ìƒíƒœ(state)ë¡œ ë§Œë“¤ í•„ìš”ê°€ ì—†ë‹¤.](#9ê°•-í”Œë˜ê·¸ëŠ”-êµ³ì´-ìƒíƒœstateë¡œ-ë§Œë“¤-í•„ìš”ê°€-ì—†ë‹¤)
- [useState ëŒ€ì‹  useRef](#11ê°•-usestate-ëŒ€ì‹ -useref)
- [ì—°ê´€ëœ ìƒíƒœ ë‹¨ìˆœí™” í•˜ê¸°](#13ê°•-ì—°ê´€ëœ-ìƒíƒœ-ë‹¨ìˆœí™”-í•˜ê¸°)
- [useStateì—ì„œ useReducerë¡œ ë¦¬íŒ©í„°ë§](#14ê°•-usestateì—ì„œ-usereducerë¡œ-ë¦¬íŒ©í„°ë§)
- [ë¶ˆí•„ìš”í•œ Props ë³µì‚¬ ë° ì—°ì‚°](#17ê°•-ë¶ˆí•„ìš”í•œ-props-ë³µì‚¬-ë°-ì—°ì‚°)
- [ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ì£¼ì˜í•˜ê¸°](#22ê°•-ì¸ë¼ì¸-ìŠ¤íƒ€ì¼-ì£¼ì˜í•˜ê¸°)
- [ê°ì²´ Props ì§€ì–‘í•˜ê¸°](#24ê°•-ê°ì²´-props-ì§€ì–‘í•˜ê¸°)
- [spread(...) props ì£¼ì˜í•  ì ](#26ê°•-spread-props-ì£¼ì˜í• -ì )
- [ê°ì²´ë³´ë‹¤ëŠ” ë‹¨ìˆœí•œ Props](#28ê°•-ê°ì²´ë³´ë‹¤ëŠ”-ë‹¨ìˆœí•œ-props)
- [ì“¸ëª¨ì—†ëŠ” Fragment ì§€ì–‘í•˜ê¸°](#32ê°•-ì“¸ëª¨ì—†ëŠ”-fragment-ì§€ì–‘í•˜ê¸°)
- [JSX ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ë¡œ ë°˜í™˜ ì§€ì–‘í•˜ê¸°](#34ê°•-jsx-ì»´í¬ë„ŒíŠ¸-í•¨ìˆ˜ë¡œ-ë°˜í™˜-ì§€ì–‘í•˜ê¸°)
- [ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ì»´í¬ë„ŒíŠ¸ ì„ ì–¸ ì§€ì–‘í•˜ê¸°](#35ê°•-ì»´í¬ë„ŒíŠ¸-ë‚´ë¶€ì—-ì»´í¬ë„ŒíŠ¸-ì„ ì–¸-ì§€ì–‘í•˜ê¸°)
- [0(ZERO)ëŠ” JSXì—ì„œ ìœ íš¨í•œ ê°’](#39ê°•-0zeroëŠ”-jsxì—ì„œ-ìœ íš¨í•œ-ê°’)
- [keyë¥¼ ì“¸ ë•Œ ì£¼ì˜í•  ì ](#40ê°•-keyë¥¼-ì“¸-ë•Œ-ì£¼ì˜í• -ì )
- [ì•ˆì „í•˜ê²Œ HTML ë‹¤ë£¨ê¸°](#41ê°•-ì•ˆì „í•˜ê²Œ-html-ë‹¤ë£¨ê¸°)
- [useEffect() ê¸°ëª… í•¨ìˆ˜ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê¸°](#43ê°•-useeffect-ê¸°ëª…-í•¨ìˆ˜ì™€-í•¨ê»˜-ì‚¬ìš©í•˜ê¸°)
- [í•œ ê°€ì§€ ì—­í• ë§Œ ìˆ˜í–‰í•˜ëŠ” useEffect](#44ê°•-í•œ-ê°€ì§€-ì—­í• ë§Œ-ìˆ˜í–‰í•˜ëŠ”-useeffect)
- [useEffect ë‚´ë¶€ì˜ ë¹„ë™ê¸°ëŠ” ë¶ˆê°€](#46ê°•-useeffect-ë‚´ë¶€ì˜-ë¹„ë™ê¸°ëŠ”-ë¶ˆê°€)
- [reload ì£¼ì˜ì‚¬í•­](#49ê°•-reload-ì£¼ì˜ì‚¬í•­)

<br/>

### [8ê°•] ì—…ë°ì´íŠ¸ ë˜ì§€ ì•ŠëŠ” ê°’ ì™¸ë¶€ë¡œ ì¶”ì¶œ

ì–´ì°¨í”¼ stateë¡œ ê´€ë¦¬ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì»´í¬ë„ŒíŠ¸ ë°–ìœ¼ë¡œ ë¹¼ê¸°

```javascript
// âŒ
const app_b = () => {
  const INFO = {
    a: "a",
    b: "b",
  };
};

// âœ…
const INFO = {
  a: "a",
  b: "b",
};
const app_a = () => {
  //...
};
```

<br/>

### [9ê°•] í”Œë˜ê·¸ëŠ” êµ³ì´ ìƒíƒœ(state)ë¡œ ë§Œë“¤ í•„ìš”ê°€ ì—†ë‹¤.

ê·¸ëƒ¥ ë³€ìˆ˜ë¡œì¨ ì‚¬ìš©í•´ë„ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ ë³€ìˆ˜ëŠ” ë Œë”ë§ë§ˆë‹¤ ê³ ìœ í•œ ê°’ì„ ê°€ì§€ë¯€ë¡œ useStateë¡œ ë§Œë“¤ì§€ ì•Šì•„ë„ ìƒê´€ ì—†ìŒ.

â€» í”Œë˜ê·¸: ì£¼ë¡œ íŠ¹ì • ì¡°ê±´ í˜¹ì€ ì œì–´ë¥¼ ìœ„í•œ ì¡°ê±´ì„ ë¶ˆë¦¬ì–¸ìœ¼ë¡œ ë‚˜íƒ€ë‚´ëŠ” ê°’

```javascript
ì½”ë“œ ë³µì‚¬
const flagState = () => {
  const isLogin =
    hasToken &&
    hasCookie &&
    isValidCookie &&
    isNewUser === false &&
    isValidTokens;

  return <div>{isLogin && "ì•ˆë…•í•˜ì„¸ìš”! ë°˜ê°‘ìŠµë‹ˆë‹¤."}</div>;
};
```

<br/>

### [11ê°•] useState ëŒ€ì‹  useRef

ë¦¬ë Œë”ë§ ë°©ì§€ê°€ í•„ìš”í•˜ë‹¤ë©´ useState ëŒ€ì‹  useRefë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ì˜ ì „ì²´ì ì¸ ìˆ˜ëª…ê³¼ ë™ì¼í•˜ê²Œ ì§€ì†ëœ ì •ë³´ë¥¼ ì¼ê´€ì ìœ¼ë¡œ ì œê³µí•´ì•¼ í•˜ëŠ” ê²½ìš°.

```
javascript
// ğŸ¤”
const Component_B_1 = () => {
  const [isMount, setIsMount] = useState(false);

  useEffect(() => {
    if (!isMount) {
      setIsMount(true);
    }
  }, [isMount]);
};

// âœ…
const Component_A_1 = () => {
  const isMount = useRef(false);

  useEffect(() => {
    isMount.current = true;

    return () => (isMount.current = false);
  }, []);
};
```

[ğŸ’Œ ì¶”ê°€ì ìœ¼ë¡œ ì°¸ê³ í•  ë¬¸ì„œ : ìš°ì•„í•œí…Œí¬ í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œì˜ API ì¤‘ë³µ í˜¸ì¶œ í•´ê²°ê¸°](https://www.youtube.com/watch?v=FEP2BzNzoRw)

<br/>

### [13ê°•] ì—°ê´€ëœ ìƒíƒœ ë‹¨ìˆœí™” í•˜ê¸°

```javascript
// ğŸ¤”
const Component_B_2 = () => {
  const [isLoading, setIsLoading] = useState(false);
  const [isSuccess, setIsSuccess] = useState(false);
  const [isError, setIsError] = useState(false);

  setIsLoading(true);

  fetch(url)
    .then(() => {
      setIsLoading(false);
      setIsSuccess(true);
    })
    .catch(() => {
      setIsError(true);
    });

  if (isLoading) return <LoadingComponent />;
  if (isSuccess) return <SuccessComponent />;
  if (isError) return <ErrorComponent />;
};

// âœ…
const Component_A_2 = () => {
  const [fetchState, setFetchState] = useState({
    isLoading: false,
    isSuccess: false,
    isError: false,
  });

  setFetchState((prev) => ({
    ...prev,
    isLoading: true,
  }));

  fetch(url)
    .then(() => {
      setFetchState((prev) => ({
        ...prev,
        isSuccess: true,
      }));
    })
    .catch(() => {
      setFetchState((prev) => ({
        ...prev,
        isError: true,
      }));
    });

  if (fetchState.isLoading) return <LoadingComponent />;
  if (fetchState.isSuccess) return <SuccessComponent />;
  if (fetchState.isError) return <ErrorComponent />;
};
```

<br/>

### [14ê°•] useStateì—ì„œ useReducerë¡œ ë¦¬íŒ©í„°ë§

ë¦¬ì•¡íŠ¸ì— ì–½í˜€ìˆëŠ”ê²Œ ì•„ë‹ˆë¼ì„œ ë‹¤ë¥¸ ê³³ì—ì„œ ëŒì–´ë‹¤ ì“°ê¸°ë„ ì¢‹ìŒ. ì¶”ìƒí™” ë˜ì–´ ìˆê³  ì•¡ì…˜ íƒ€ì…ë§Œ ë³´ë©´ ì–´ë–¤ ê¸°ëŠ¥ì„ í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆìŒ.

```javascript
const INIT_STATE = {
  isLoading: false,
  isSuccess: false,
  isFail: false,
};

const reducer = (state, action) => {
  switch (action.type) {
    case "FETCH_LOADING":
      return { ...state, isLoading: true };
    case "FETCH_SUCCESS":
      return { ...state, isSuccess: true };
    case "FETCH_FAIL":
      return { ...state, isFail: true };
    default:
      return INIT_STATE;
  }
};

function StateToReducer() {
  const [state, dispatch] = useReducer(reducer, INIT_STATE);

  dispatch({ type: "FETCH_LOADING" });

  fetch(url)
    .then(() => {
      dispatch({ type: "FETCH_SUCCESS" });
    })
    .catch(() => {
      dispatch({ type: "FETCH_FAIL" });
    });

  if (state.isLoading) return <LoadingComponent />;
  if (state.isSuccess) return <SuccessComponent />;
  if (state.isError) return <ErrorComponent />;
}
```

[ğŸ’Œ ì¶”ê°€ì ìœ¼ë¡œ ì°¸ê³ í•  ë¬¸ì„œ : useReducerëŠ” ì–¸ì œ ì‚¬ìš©í•˜ë‚˜?](https://velog.io/@semnil5202/useReducer%EB%A5%BC-%EC%96%B8%EC%A0%9C-%EC%93%B0%EB%A9%B4-%EC%A2%8B%EC%9D%84%EA%B9%8C)

<br/>

### [17ê°•] ë¶ˆí•„ìš”í•œ Props ë³µì‚¬ ë° ì—°ì‚°

propsë¡œ ê°€ì ¸ì˜¬ ê²½ìš° useStateë¥¼ êµ³ì´ ì‚¬ìš©í•  í•„ìš” ì—†ì´ ê·¸ëƒ¥ ì¨ë„ ë˜ì§€ë§Œ, ê°’ ë¹„ì‹¸ê³  ë¬´ê±°ìš´ ì—°ì‚°ì¼ ê²½ìš° useMemoë¡œ ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤.

```javascript
function CopyProps({ value }) {
  // const copyValue = ê°’_ë¹„ì‹¸ê³ _ë¬´ê±°ìš´_ì—°ì‚°(value)
  const copyValue = useMemo(() => ê°’_ë¹„ì‹¸ê³ _ë¬´ê±°ìš´_ì—°ì‚°(value), [value]);
  return <div>{copyValue}</div>;
}
```

<br/>

### [22ê°•] ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ì£¼ì˜í•˜ê¸°

ë Œë”ë§ jsx ë‚´ë¶€ì— ê·¸ëŒ€ë¡œ ê°ì²´ë¥¼ ë„£ì§€ ì•Šê¸°.

```javascript
// âŒ
function InlineStyle_B() {
  return (
    <button style={{ backgroundColor: "red", fontSize: "14px" }}>
      ê°ì²´ë¥¼ ê·¸ëŒ€ë¡œ styleì— ë„£ì„ ê²½ìš° ë Œë”ë§ í•  ë•Œ ê³„ì† ë¹„êµê°€ ë˜ê¸° ë•Œë¬¸ì—
      ì„±ëŠ¥ìƒ ì¢‹ì§€ ëª»í•¨
    </button>
  );
}

// âœ…
function InlineStyle_A() {
  const myStyle = { backgroundColor: "red", fontSize: "14px" }; // ì–˜ë¥¼ ë°”ê¹¥ìœ¼ë¡œ ë¹¼ë„ ìƒê´€ì´ ì—†ìŒ
  return <button style={myStyle}>Clean Code</button>;
}

// âœ…
const myDynamicStyle = {
  warning: { backgroundColor: "yellow", fontSize: "14px" },
  danger: { backgroundColor: "red", fontSize: "24px" },
};

function InlineStyle_D() {
  return (
    <>
      <button style={myDynamicStyle.warning}>Warning Code Click!</button>
      <button style={myDynamicStyle.danger}>Danger Code Click!</button>
    </>
  );
}
```

<br/>

### [24ê°•] ê°ì²´ Props ì§€ì–‘í•˜ê¸°

ê°ì²´ì˜ ê²½ìš° ê³„ì† ë¹„êµ ë°›ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ì ìœ¼ë¡œ ì¢‹ì§€ ì•ŠìŒ. (ë°°ì—´ ë˜í•œ ê°ì²´ì´ê¸° ë•Œë¬¸ì— ë§ˆì°¬ê°€ì§€)

1. ë³€í•˜ì§€ ì•ŠëŠ” ê°’ì¼ ê²½ìš° ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ë¡œ ë“œëŸ¬ë‚´ê¸°
2. í•„ìš”í•œ ê°’ë§Œ ê°ì²´ë¥¼ ë¶„í•´í•´ì„œ Propsë¡œ ë‚´ë ¤ì¤€ë‹¤.
3. ì •ë§ ë¹„ì‹¼ ì—°ì‚°, ë„ˆë¬´ ì¦ì€ ì—°ì‚°ì´ ìˆì„ ê²½ìš° useMemo() ì‚¬ìš©í•˜ì—¬ ê³„ì‚°ëœ ê°’ì„ ë©”ëª¨ì´ì œì´ì…˜ í•œë‹¤.

```javascript
// âŒ
function SomeComponent_B() {
  return (
    <ChildComponent propObj={{ hello: "world" }} propArr={["hello", "hello"]} />
  );
}

// âœ…
function SomeComponent_A() {
  const [propArr, setPropArr] = useState(["hello", "hello"]);

  return <ChildComponent hello="world" hello2={propArr.at(0)} />;
}
```

<br/>

### [26ê°•] spread(...) props ì£¼ì˜í•  ì 

ì½”ë“œë¥¼ ì˜ˆì¸¡í•˜ê¸° ì–´ë µê¸° ë•Œë¬¸ì— ì“¸ ì• ë‘ ì•ˆ ì“¸ ì• ë‘ ë‚˜ëˆ ì„œ ë‚´ë¦¬ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ë‹¤. ë§ì€ ê²ƒì„ ë‚´ë¦¬ê¸° ë³´ë‹¤ í•„ìš”í•œ ì• ë§Œ ì •ë¦¬í•´ì„œ ë‚´ë¦¬ê¸°.

```javascript
// âŒ
const ParentComponents = (props) => {
  return <ChildOrHOCComponent {...props} />;
};

// âœ…
const ParentComponent = (props) => {
  const { ê´€ë ¨_ì—†ëŠ”_props, ê´€ë ¨_ìˆëŠ”_props, ...ë‚˜ë¨¸ì§€_props } = props;
  return <ChildOrHOCComponent props={ê´€ë ¨_ìˆëŠ”_props} {...ë‚˜ë¨¸ì§€_props} />;
};
```

<br/>

### [28ê°•] ê°ì²´ë³´ë‹¤ëŠ” ë‹¨ìˆœí•œ Props

propsì— ê°ì²´ ì „ì²´ë¥¼ ë‚´ë¦¬ì§€ ë§ê³  ê¼­ í•„ìš”í•œ ê²ƒë§Œ (êµ¬ì¡°ë¶„í•´í• ë‹¹) ì„±ëŠ¥ì ìœ¼ë¡œ ë” ì¢‹ì„ ë¿ë§Œ ì•„ë‹ˆë¼ ë¬´ê±°ìš´ ê²½ìš° memoë¥¼ ì“¸ ìˆ˜ë„ ìˆë‹¤.

```javascript
const UserInfo = ({ avatarImpUrl, userName, email }) => {
  return (
    <div>
      <img src={avatarImpUrl} />
      <h3>{userName}</h3>
      <h4>{email}</h4>
    </div>
  );
};
```

<br/>

### [32ê°•] ì“¸ëª¨ì—†ëŠ” Fragment ì§€ì–‘í•˜ê¸°

ë¬¸ìì—´ë§Œ ë Œë”í•  ê²½ìš° êµ³ì´ Fragmentë¥¼ ë„£ì„ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.

```javascript
// âŒ
const Hello_B = () => {
  return <>Hello, World!</>;
};

// âœ…
const Hello_A = () => {
  return "Hello, World!";
};
```

<br/>

### [34ê°•] JSX ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ë¡œ ë°˜í™˜ ì§€ì–‘í•˜ê¸°

{renderMain()} í˜•íƒœë¡œ ì‚¬ìš©í•˜ë©´ ì¢‹ì§€ ì•Šì€ ì :

1. ì—¬ëŸ¬ ê°œë¥¼ ë Œë”í•  ë•Œ scopeê°€ ê¼¬ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. <RenderMain />ê³¼ ê°™ì€ í˜•íƒœì— ë¹„í•´ ë°˜í™˜ê°’ì„ ì•Œì•„ë³´ê¸° í˜ë“­ë‹ˆë‹¤.
3. props ì „ë‹¬ ë“± ì¼ë°˜ì ì¸ íŒ¨í„´ì´ ì•„ë‹™ë‹ˆë‹¤.

```javascript
const TopRender = () => {
  return "í…ŒìŠ¤íŠ¸";
};

const RenderMain = () => {
  return;
};

// âŒ
const RenderComponent_B = () => {
  return (
    <div>
      {TopRender()}
      {RenderMain()}
    </div>
  );
};

// âœ…
const RenderComponent_A = () => {
  return (
    <div>
      <TopRender />
      <RenderMain />
    </div>
  );
};
```

<br/>

### [35ê°•] ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ì»´í¬ë„ŒíŠ¸ ì„ ì–¸ ì§€ì–‘í•˜ê¸°

1. ê²°í•©ë„ê°€ ì¦ê°€í•œë‹¤.

- êµ¬ì¡°ì ìœ¼ë¡œ ìŠ¤ì½”í”„ì ìœ¼ë¡œ ì¢…ì†ëœ ê°œë°œì´ ë©ë‹ˆë‹¤.
- ë‚˜ì¤‘ì— í™•ì¥ì„±ì´ ìƒê²¨ì„œ ë¶„ë¦¬í•  ë•Œ êµ‰ì¥íˆ í˜ë“¤ì–´ì§„ë‹¤.

2. ì„±ëŠ¥ ì €í•˜

- ìƒìœ„ ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”? => í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ ì¬ìƒì„±

```javascript
// âŒ
function OuterComponentB() {
  const InnerComponentB = () => {
    return <div>Inner component</div>;
  };

  return (
    <div>
      <InnerComponentB />
    </div>
  );
}

// âœ…
const InnerComponentA = () => {
  return <div>Inner component</div>;
};

function OuterComponentA() {
  return (
    <div>
      <InnerComponentA />
    </div>
  );
}
```

<br/>

### [39ê°•] 0(ZERO)ëŠ” JSXì—ì„œ ìœ íš¨í•œ ê°’

0ì€ ë Œë”ë§ ëŒ€ìƒì´ê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ ê²½ìš°ë¥¼ ê³ ë ¤í•˜ì—¬ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

```javascript
// âŒ
return <div>{items.length && items.map((item) => item.id)}</div>;

// âœ…
return <div>{items.length > 0 && items.map((item) => item.id)}</div>;
```

<br/>

### [40ê°•] keyë¥¼ ì“¸ ë•Œ ì£¼ì˜í•  ì 

ë Œë”ë§í•˜ëŠ” ì‹œì ì— ì´ ìœ ì¼í•œ ê°’ì„ ë„£ìœ¼ë©´ ì•ˆë©ë‹ˆë‹¤.

```javascript
// âŒ : ë Œë”ë§ ë  ë•Œ ë§ˆë‹¤ ê³ ìœ ì˜ ê°’ì„ ê³„ì† ì§‘ì–´ë„£ê²Œ ë˜ëŠ” í–‰ìœ„
<ul>
  {list.map((item) => (
    <li key={new Date().toString()}>{item}</li>
  ))}
</ul>;

// âŒ : ì´ ë˜í•œ ì¢‹ì§€ ì•ŠìŒ
<ul>
  {list.map((item) => (
    <li key={uuidv4()}>{item}</li>
  ))}
</ul>;

// âœ… : ë¯¸ë¦¬ idë¥¼ ë§Œë“¤ì–´ë†“ê³  ì´ë¥¼ ê°€ì ¸ë‹¤ ì”ë‹ˆë‹¤
<ul>
  {list.map((item) => (
    <li key={item.id} onClick={() => handleDelete(item.id)}>
      {item}
    </li>
  ))}
</ul>;
```

<br/>

### [41ê°•] ì•ˆì „í•˜ê²Œ HTML ë‹¤ë£¨ê¸°

HTML Sanitizer API, DOMPurify, eslint-plug-risxxì™€ ê°™ì€ ì™¸ë¶€ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

```javascript
const serverData = "<p>some raw html</p>";

function DangerouslySetInnerHTMLExample() {
  const post = {
    content: `<img src="" onerror='alert("you were hacked")'>`,
  };

  const markup = { __html: serverData };

  // âœ… DomPurifyì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•ˆì „í•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
  const sanitizeContent = { __html: DomPurify.sanitize(serverData) };

  // ğŸ¤”âŒ : ìœ„í—˜í•˜ì§€ë§Œ ê·¸ë‚˜ë§ˆ ë‚˜ì€ ì˜ˆì‹œ
  // return <div dangerouslySetInnerHTML={markup}></div>;

  // âŒâŒâŒ : ì ˆëŒ€ë¡œ ì•ˆë˜ëŠ” ì˜ˆì‹œ
  // return <div>{markup}</div>;

  // ğŸ¤”âœ… : ê·¸ë‚˜ë§ˆ ì´ê±°ë¡œ ê°ì‹¸ëŠ”ê²Œ ë‚˜ìŒ
  return <div dangerouslySetInnerHTML={sanitizeContent}></div>;
}
```

<br/>

### [43ê°•] useEffect() ê¸°ëª… í•¨ìˆ˜ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê¸°

ê°€ë…ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
// ğŸ¤”
useEffect(() => {
  if (navigationType === "POP") {
    // some logic
  }
}, [navigationType]);

// âœ…
useEffect(
  function onPopState() {
    if (navigationType === "POP") {
      // some logic
    }
  },
  [navigationType]
);
```

<br/>

### [44ê°•] í•œ ê°€ì§€ ì—­í• ë§Œ ìˆ˜í–‰í•˜ëŠ” useEffect

```javascript
// ğŸ¤”
useEffect(() => {
  redirect(newPath);

  const userInfo = setLogin(token);
}, [token, newPath]);

// âœ…
useEffect(() => {
  const userInfo = setLogin(token);
}, [token]);

useEffect(() => {
  redirect(newPath);
}, [newPath]);
```

<br/>

### [46ê°•] useEffect ë‚´ë¶€ì˜ ë¹„ë™ê¸°ëŠ” ë¶ˆê°€

```javascript
// âŒ
useEffect(async () => {
  const result = await fetchData();
}, []);

// âœ…
useEffect(() => {
  const fetchData = async () => {
    const result = await someFetch();
  };

  fetchData();
}, [dependency]);
```

<br/>

### [49ê°•] reload ì£¼ì˜ì‚¬í•­

ì¬ê¸°ë™ ì‹œí‚¤ëŠ” ê²ƒì´ë¯€ë¡œ useStateì˜ ê°’ì´ ì´ˆê¸°í™”ë˜ëŠ” ë“± SPA ì…ì¥ì—ì„œëŠ” ì•±ì„ ì™„ì „íˆ ì¢…ë£Œì‹œí‚¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì„±ëŠ¥ ì €í•˜, ìƒíƒœ ì†Œì‹¤, ë¶ˆí•„ìš”í•œ ì„œë²„ ìš”ì²­ ë“±ì˜ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
if (isSuccess === true) {
  setIsLoggedIn(true);
  window.location.reload();
}
```
